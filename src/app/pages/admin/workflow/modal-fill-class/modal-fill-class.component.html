<div class="modal-body row w-100 h-100 mx-0">
  <div class="col-12 p-0">
    <div class="row mb-3">
      <div class="col-3 pl-0">
        <tc-form-label class="tc-form-label t-8">Step name</tc-form-label>
      </div>
      <div class="col-9 pl-0 pr-0">
        <input class="form-control w-100" type="text" placeholder="Input step name" [(ngModel)]="newStep.name">
      </div>
    </div>
  </div>
  <hr class="w-100">
  <tc-form-label class="tc-form-label">Panels to Show</tc-form-label>
  <div class="col-12 p-0" *ngFor="let classToShow of newStep.stepClasses; let index = i">
    <div class="row mb-3">
      <div class="col-2 pl-0">
        <tc-form-label class="tc-form-label t-8">Panel</tc-form-label>
      </div>
      <div class="col-8 pl-0 pr-0">
        <select (change)="templateChanged($event, classToShow)" class="form-control rounded"
          [(ngModel)]="classToShow.classId">
          <option style="display:none;"> -- select a panel -- </option>
          <optgroup *ngFor="let classGroups of (classesService.classes | classGroup)" label="{{classGroups.name}}">
            <option *ngFor="let class of classGroups.class" [value]="class.classId">{{class.name}}</option>
          </optgroup>
        </select>
      </div>
      <div class="col-2 pr-0 text-right">
        <button tc-button type="button"  class="btn btn-outline-dark rounded" [view]="'error'" (click)="deletePanel(index)">
          <div class="aosp-ui-icon aosp-ui-delete"></div>
        </button>
      </div>
    </div>
  </div>
  <div class="col-12 pr-0 text-right">
  <button tc-button type="button" class="btn btn-outline-dark rounded" (click)="addPanel()">
    <div class="d-flex"><div class="mr-2">+</div>Add Panel</div></button>
  </div>
  <hr class="w-100">
  <div class="col-12 p-0">
    <div class="row mb-3">
      <div class="col-2 pl-0">
        <tc-form-label class="tc-form-label t-8">Role</tc-form-label>
      </div>
      <div class="col-10 pl-0 pr-0">
        <select class="form-control rounded" [(ngModel)]="newStep.role">
          <option [ngValue]="null"> -- Everyone -- </option>
          <option *ngFor="let role of roles" [value]="role.role1">{{role.role1}}</option>
        </select>
      </div>
    </div>
  </div>
  <div class="col-12 p-0">
    <div class="row mb-3">
      <div class="col-4 pl-0">
        <tc-form-label class="tc-form-label t-7">Deadline (days)</tc-form-label>
      </div>
      <div class="col-8 pl-0 pr-0">
        <number-picker [value]="newStep.deadline" (change)="deadlineChange($event)"></number-picker>
      </div>
    </div>
  </div>
</div>
<div class="row modal-footer justify-content-end">
  <button tc-button type="button" class="btn btn-outline-dark mr-2 rounded" [view]="'error'" (click)="deleteButton()"
    *ngIf="action==='Edit'">
    <div class="d-flex"><div class="aosp-ui-icon aosp-ui-delete title"></div>Delete</div></button>
  <button tc-button type="button" class="btn btn-outline-dark mr-2 rounded" (click)="closeButton()">
    <div class="d-flex"><div class="aosp-ui-icon aosp-ui-cancel title"></div>Cancel</div>
  </button>
  <button tc-button type="button" class="btn btn-outline-dark rounded" (click)="saveButton()">
    <div class="d-flex"><div class="aosp-ui-icon aosp-ui-save title"></div>Save</div></button>
</div>
